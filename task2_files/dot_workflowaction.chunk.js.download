(window.odspNextWebpackJsonp=window.odspNextWebpackJsonp||[]).push([["dot_workflowaction"],{2664:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(115),s=n(17),o=n(51),u=n(246),a=n(30),f=n(104),l=n(34),c=n(1250),h=n(1285),p=n(1261),d=n(2312),v=n(1259),m=(function(e){Object(r.__extends)(t,e);function t(t,n){void 0===t&&(t={});void 0===n&&(n={});var r=e.call(this,t,n)||this;r.name="WorkflowAction";r._navigation=r.resources.consume(f.e);r._itemParentHelper=r.resources.consume(p.e);r._itemCommandHelper=r.resources.consume(h.t);r._pageContext=r.resources.consume(l.h);r._itemSelectionHelper=new(r.child(v.e))({allowMultiSelect:!1,canFallback:!0,overrideItem:t.item});return r}t.prototype.onIsAvailable=function(){var e=this._itemSelectionHelper.firstItem(),t=e&&this.observables.unwrap(this._itemParentHelper.getFacetedAncestorOrSelf(e,"list"));return!(!e||!this._itemCommandHelper.isCommandSupported(e,d.t))&&(!!t&&o.e.hasItemPermission(e,o.e.editListItems))};t.prototype.onExecute=function(e,t){return Object(r.__awaiter)(this,void 0,s.n,function(){var e,t;return Object(r.__generator)(this,function(n){switch(n.label){case 0:return[4,this._itemSelectionHelper.resolveFirst()];case 1:if(!(e=n.sent()))return[2,s.n.resolve({resultCode:"EmptySelection",resultType:a.e.Failure})];t=e.isRootFolder?this._getWorkflowUrl(e):this._getWorkflowUrl(e,e.properties&&e.properties.ID);this._navigation.navigateTo({url:t});return[2,s.n.resolve({resultType:a.e.Success})]}})})};t.prototype._getWorkflowUrl=function(e,t){var n,r=this.observables.peekUnwrap(this._itemParentHelper.getFacetedAncestorOrSelf(e,"list")),s=r&&r.list;n=window.location.href;var o,a={List:i.e.normalizeUpper(s.id,!0),Source:n};if(t){o="workflow.aspx";a.ID=t}else o="wrksetng.aspx";return this._pageContext.webAbsoluteUrl+"/"+this._pageContext.layoutsUrl+"/"+o+"?"+Object(u.t)(a)};return t})(c.e);t.default=m}}]);